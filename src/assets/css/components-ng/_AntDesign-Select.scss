//- https://ng.ant.design/components/select/zh#components-select-demo-default-value

//.ant-select.ng-form-select .ant-select-show-arrow.ant-select-single
.ant-select.ng-form-select:not(.ant-select-customize-input){
  width: 100%;
  line-height: inherit;
  //- Selector
  .ant-select-selector{
    left: 0;
    display: flex;
    align-items: center;
    width: 100%;
    padding: $form-select-padding-y $form-select-indicator-padding $form-select-padding-y $form-select-padding-x;
    background-color: $form-select-bg;
    border: $form-select-border-width solid $form-select-border-color;
    border-radius: $form-select-border-radius;
    transition: $form-select-transition;
    appearance: none;
    min-height: $input-height;
    height: $input-height;
    .ant-select-selection-item{
      font-size: $form-select-font-size;
      font-weight: $form-select-font-weight;
      line-height: $form-select-line-height;
      color: $form-select-color;
      padding-right: 0;
    }
    .ant-select-selection-placeholder{
      font-size: $form-select-font-size;
      font-weight: $input-placeholder-font-weight;
      line-height: $form-select-line-height;
      color: $input-placeholder-color;
      padding-right: 0;
    }
    .ant-select-selection-search{
      left: $input-btn-padding-x;
    }
    .ant-select-selection-search-input{
      padding-left:0;
      min-height: inherit;
      height: $input-height - $form-select-padding-y * 2;
    }
  }

  //- lg
  &.ant-select-lg .ant-select-selector{
    min-height: $input-height-lg;
    padding: $form-select-padding-y-lg $form-select-indicator-padding $form-select-padding-y-lg $form-select-padding-x-lg;
    height: $input-height-lg;
    border-radius: $form-select-border-radius-lg;
    .ant-select-selection-item{
      font-size: $form-select-font-size-lg;
    }
    .ant-select-selection-placeholder{
      font-size: $form-select-font-size-lg;
    }
    .ant-select-selection-search{
      left: $input-btn-padding-x-lg;
    }
    .ant-select-selection-search-input{
      min-height: inherit;
      height: $input-height-lg - $form-select-padding-y-lg;
    }
  }
  //- sm
  &.ant-select-sm .ant-select-selector{
    min-height: $input-height-sm;
    padding: $form-select-padding-y-sm $form-select-indicator-padding $form-select-padding-y-sm $form-select-padding-x-sm;
    height: $input-height-sm;
    border-radius: $form-select-border-radius-sm;
    .ant-select-selection-item{
      font-size: $form-select-font-size-sm;
    }
    .ant-select-selection-placeholder{
      font-size: $form-select-font-size-sm;
    }
    .ant-select-selection-search{
      left: $input-btn-padding-x-sm;
    }
    .ant-select-selection-search-input{
      min-height: inherit;
      height: $input-height-sm - $form-select-padding-y-sm;
    }
  }
  //- Multiple
  &.ant-select-multiple .ant-select-selector{
    $pad: 0.075rem;
    padding: $pad;
    height: inherit;
    line-height: inherit;
    &::after{
      line-height: 100%;
    }
    .ant-select-selection-item {
      position: relative;
      display: flex;
      align-items: center;
      flex: none;
      max-width: 100%;
      cursor: default;
      transition: font-size .3s,line-height .3s,height .3s;
      user-select: none;
      height: $input-height - $pad * 4 - 0.125rem;
      line-height: $input-height - $pad * 4 - 0.125rem;
      margin: $pad;
      padding: 0 0.35rem;
      background: $gray-100;
      border: 1px solid $gray-200;
      border-radius: 0.125rem;
      .ant-select-selection-item-content {
        display: inline-block;
        margin-right: 0.25rem;
        padding:0;
        overflow: hidden;
        white-space: pre;
        text-overflow: ellipsis;
      }
      .ant-select-selection-item-remove {
        font-style: normal;
        text-transform: none;
        display: inline-block;
        color: $gray-400;
        line-height: inherit;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        .anticon-close{
          &:before{
            content: "\F0156";
            @include IconMdi(0.875rem);
          }
          &:hover{
            &:before{
              color: $gray-900;
            }
          }
          svg{
            display: none;
          }
        }
      }
    }
    .ant-select-selection-placeholder {
      left: $form-select-padding-x;
    }
    .ant-select-selection-search{
      margin-left: 0;
      left: $form-select-padding-x - $pad;
    }
    .ant-select-selection-search-input{
      line-height: inherit;
      height: $input-height - $pad * 4 - 0.125rem;
    }
  }
  //- Multiple lg
  &.ant-select-multiple.ant-select-lg .ant-select-selector{
    $pad: 0.3rem;
    $marg-item: 0.1rem;
    padding: $pad;
    .ant-select-selection-item {
      margin: $marg-item;
      padding: 0 0.35rem;
      border-radius: 0.25rem;
      height: $input-height-lg - $pad * 2 - $marg-item * 2 - 0.125rem;
      line-height: $input-height-lg - $pad * 2 - $marg-item * 2 - 0.125rem;
    }
    .ant-select-selection-placeholder {
      left: $form-select-padding-x-lg;
    }
    .ant-select-selection-search{
      margin-left: 0;
      left: $form-select-padding-x-lg - $pad;
      height: $input-height-lg - $pad * 2 - $marg-item * 2 - 0.125rem;
      line-height: $input-height-lg - $pad * 2 - $marg-item * 2 - 0.125rem;
    }
    .ant-select-selection-search-input{
      line-height: inherit;
      height: $input-height-lg - $pad * 2 - $marg-item * 2 - 0.125rem;
    }
  }
  //- Multiple sm
  &.ant-select-multiple.ant-select-sm .ant-select-selector{
    $pad: 0.075rem;
    padding: $pad;
    .ant-select-selection-item {
      margin: $pad;;
      height: $input-height-sm - $pad * 4 - 0.125rem;
      line-height: $input-height-sm - $pad * 4 - 0.125rem;
    }
    .ant-select-selection-placeholder {
      left: $form-select-padding-x-sm;
    }
    .ant-select-selection-search{
      left: $form-select-padding-x-sm - $pad;
      height: $input-height-sm - $pad * 4 - 0.125rem;
      line-height: $input-height-sm - $pad * 4 - 0.125rem;
    }
    .ant-select-selection-search-input{
      line-height: inherit;
      height: $input-height-sm - $pad * 4 - 0.125rem;
    }
  }




  //- Arrow
  .ant-select-arrow{
    .action{
      > path{
        display: none;
      }
    }
    .anticon-down{
      // display: none;
      background-image: escape-svg($form-select-indicator);
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
    }
  }
  //- Clear
  .ant-select-clear{
    z-index: 1;
    width: 1rem;
    color: $gray-400;
    text-align: center;
    background: #fff;
    cursor: pointer;
    text-rendering: auto;
    transform: translate(1px,0);
    span.ant-select-close-icon{
      &:before{
        content: "\F0156";
        @include IconMdi(0.875rem);
      }
      &:hover{
        &:before{
          color: $gray-900;
        }
      }
      svg{
        display: none;
      }
    }
  }
  // - Hover
  &:hover:not(.ant-select-disabled){
    //- Clear
    .ant-select-clear{
      opacity: 1;
    }
    .ant-select-selector{
      border-color:$form-select-border-color;
    }
  }
  //- Focused
  &.ant-select-focused:not(.ant-select-disabled):not(.ant-select-customize-input):not(.ant-select-status-error) {
    .ant-select-selector {
      border-right-width: 1px;
      color: $input-focus-color;
      background-color: $input-focus-bg;
      border-color: $input-focus-border-color;
      outline: 0;
      @if $enable-shadows {
        @include box-shadow($input-box-shadow, $input-focus-box-shadow);
      } @else {
        // Avoid using mixin so we can pass custom focus shadow properly
        box-shadow: $input-focus-box-shadow;
      }
    }
  }
  //- Disabled
  &.ant-select-disabled:not(.ant-select-customize-input) {
    .ant-select-selector{
      color: $form-select-disabled-color;
      background-color: $form-select-disabled-bg;
      border-color: $form-select-disabled-border-color;
    }
    .ant-select-arrow{
      opacity: 0.25;
    }
  }
  //- Danger
  &.ant-select-status-error:not(.ant-select-disabled):not(.ant-select-customize-input){
    $danger-text-color:shift-color($danger, $alert-color-scale);
    .ant-select-selector{
      background-color: shift-color($danger, $alert-bg-scale);
      border-color:shift-color($danger, $alert-border-scale) !important;
      color:$danger-text-color;
      .ant-select-selection-placeholder,
      .ant-select-selection-item{
        color: shift-color($danger, $alert-color-scale);
      }
    }
    //- Arrow
    .ant-select-arrow{
      .anticon-down{
        // background-image: escape-svg($form-select-indicator);
        background-image: escape-svg(url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='none' stroke='#{$danger-text-color}' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/></svg>"));
      }
    }
  }
  //- Warning
  &.ant-select-status-warning:not(.ant-select-disabled):not(.ant-select-customize-input){
    $warning-text-color:shift-color($warning, $alert-color-scale);
    .ant-select-selector{
      background-color: shift-color($warning, $alert-bg-scale);
      border-color:shift-color($warning, $alert-border-scale) !important;
      color:$warning-text-color;
      .ant-select-selection-placeholder,
      .ant-select-selection-item{
        color: shift-color($warning, $alert-color-scale);
      }
    }
    //- Arrow
    .ant-select-arrow{
      .anticon-down{
        // background-image: escape-svg($form-select-indicator);
        background-image: escape-svg(url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='none' stroke='#{$warning-text-color}' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/></svg>"));
      }
    }
  }
  //- Borderless
  &.ant-select-borderless{
    width: initial;
    min-width: 5rem;
  }

}



//- Dropdown
[class*="ng-select-dropdown-custom-"],
.ng-select-dropdown-custom{
  .ant-select-dropdown{
    // @extend .dropdown-menu;
    // display: inline-block;
    padding: $dropdown-menu-padding-y 0;
    font-weight: 600;
    white-space: nowrap;
    background-color:#fff;
    border: none;
    box-shadow: $box-shadow-xlg;
    border-radius: $dropdown-border-radius;
    .ant-select-item{
        // min-height: 32px;
        // padding: 5px 12px;
        // font-size: 14px;
        // line-height: 22px;
        position: relative;
        line-height: $dropdown-menu-text-line-height;
        padding: $dropdown-menu-list-padding-y $dropdown-menu-list-padding-x;
        font-size: $dropdown-menu-text-size;
        font-weight: $dropdown-menu-text-weight;
        align-items: center;
      &.ant-select-item-option:not(.ant-select-item-option-disabled){
        display: flex;
        color: $dropdown-menu-text-color-default;
      }
      &.ant-select-item-option-active:not(.ant-select-item-option-disabled){
        color: $dropdown-menu-text-color-active;
        background-color: $dropdown-menu-bg-color-hover;
      }
      &.ant-select-item-option-selected:not(.ant-select-item-option-disabled){
        color: $dropdown-menu-text-color-active;
        background-color: $dropdown-menu-bg-color-active;
        font-weight: $dropdown-menu-text-weight;
      }
      &.ant-select-item-group {
        color: $gray-500;
        font-size: 0.75rem;
        font-weight: 400;
        cursor: default;
      }
      .ant-select-item-option-content{
        display: block;
        flex: auto;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;

        // align-items: center;
      }
      &.ant-select-item-option-disabled{
        opacity: 0.8;
        text-decoration: line-through;
      }

    }
    .ant-select-item-empty{
      .ant-empty{
        .ant-empty-image{
          width: 6rem;
          height: 6rem;
          margin: 0 auto 1rem;
          background-image: url('/assets/img/Empty.svg');
          // background-image: url('/Content/images/Main/func_layer_on.png');
          background-repeat: no-repeat;
          background-size: contain;
          svg{
            display: none;
          }
        }
        .ant-empty-description{
          font-size: 1rem;
          color: $gray-400;
        }
      }

    }
    &[ng-reflect-mode="multiple"]{
      .ant-select-item{
        &.ant-select-item-option{
          .ant-select-item-option-content{
            &:before{
              content: "";
              display: inline-flex;
              flex: 0 0 $form-check-input-width;
              margin-right: 0.5rem;
              // transform:rotate(0);
              width: $form-check-input-width;
              height: $form-check-input-width;
              background-color: $form-check-input-bg;
              border: $form-check-input-border;
              @include border-radius($form-check-input-border-radius);
              transform: translate(0,1px);
            }
          }

        }
        &.ant-select-item-option-selected:not(.ant-select-item-option-disabled){
          .ant-select-item-option-content{
            &:before{
              // top:auto;
              content: "";
              background-color: $form-check-input-checked-bg-color;
              border-color: $form-check-input-checked-border-color;
              background-image: escape-svg($form-check-input-checked-bg-image), var(--#{$variable-prefix}gradient);
            }
          }
          .ant-select-item-option-state{
            display: none;
          }
        }
      }
    }
    //- 擴展菜單
    hr{
      margin:0.5rem 0;
    }
    .container{
      padding: $dropdown-menu-list-padding-y $dropdown-menu-list-padding-x;
      display: flex;
      align-items: center;
      input{
        @extend .form-control;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      }
    }
  }
}

//-col
@for $i from 1 through 6 {
  .ng-select-dropdown-custom-z-#{$i}{
    .ant-select-dropdown .cdk-virtual-scroll-content-wrapper {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
      .ant-select-item{
        width: calc(100% / #{$i});
        &.ant-select-item-group{
          width: 100%;
        }
      }
    }
    // .cdk-virtual-scroll-spacer{
    //   height: 0;
    // }
  }
  .ng-select-dropdown-custom-n-#{$i}{
    .ant-select-dropdown .cdk-virtual-scroll-content-wrapper {
      display:block !important;
      column-gap:0;
      column-count:#{$i};
      break-inside: avoid;
      // .ant-select-item.ant-select-item-group{
      //   width: 100%;
      //   grid-column:span #{$i};
      // }
    }
  }
}


